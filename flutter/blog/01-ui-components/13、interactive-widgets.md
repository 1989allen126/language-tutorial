# üéÆ Flutter ‰∫§‰∫íÁªÑ‰ª∂ÔºöËÆ©Â∫îÁî®Ê¥ªËµ∑Êù•

> ‰Ω†ÊòØÂê¶ÊõæÁªèÊÉ≥ËøáÔºå‰∏∫‰ªÄ‰πàÊúâ‰∫õÂ∫îÁî®Áî®Ëµ∑Êù•ÁâπÂà´È°∫ÊâãÔºåËÄåÊúâ‰∫õÂç¥ËÆ©‰∫∫ÊÑüÂà∞ÁîüÁ°¨ÔºüÁßòÂØÜÂ∞±Âú®‰∫é‰∫§‰∫íËÆæËÆ°ÔºÅ‰ªäÂ§©Êàë‰ª¨Â∞±Êù•ËÅäËÅä Flutter ‰∏≠ÁöÑ‰∫§‰∫íÁªÑ‰ª∂ÔºåËÆ©‰Ω†ÁöÑÂ∫îÁî®ÁúüÊ≠£"Ê¥ª"Ëµ∑Êù•ÔºÅ

![Flutter Interactive](https://img.shields.io/badge/Flutter-‰∫§‰∫íÁªÑ‰ª∂-blue?style=for-the-badge&logo=flutter)

## üìä ÊñáÁ´†Ê¶ÇËßà

| Á´†ËäÇ                  | ÂÜÖÂÆπ                         | ÈöæÂ∫¶Á≠âÁ∫ß |
| --------------------- | ---------------------------- | -------- |
| [ÊâãÂäøËØÜÂà´](#ÊâãÂäøËØÜÂà´) | GestureDetector Âü∫Á°Ä         | ‚≠ê‚≠ê‚≠ê   |
| [Ëß¶Êë∏ÂèçÈ¶à](#Ëß¶Êë∏ÂèçÈ¶à) | InkWell„ÄÅMaterial ÊïàÊûú       | ‚≠ê‚≠ê‚≠ê   |
| [ÊãñÊãΩ‰∫§‰∫í](#ÊãñÊãΩ‰∫§‰∫í) | Draggable„ÄÅDragTarget        | ‚≠ê‚≠ê‚≠ê‚≠ê |
| [ÊªëÂä®Êìç‰Ωú](#ÊªëÂä®Êìç‰Ωú) | Dismissible„ÄÅSlidable        | ‚≠ê‚≠ê‚≠ê‚≠ê |
| [ÈïøÊåâËèúÂçï](#ÈïøÊåâËèúÂçï) | PopupMenuButton„ÄÅContextMenu | ‚≠ê‚≠ê‚≠ê   |

## üéØ Â≠¶‰π†ÁõÆÊ†á

- ‚úÖ ÊéåÊè°ÂêÑÁßçÊâãÂäøËØÜÂà´ÂíåÂ§ÑÁêÜÊñπÊ≥ï
- ‚úÖ Â≠¶‰ºöÂàõÂª∫ÊµÅÁïÖÁöÑËß¶Êë∏ÂèçÈ¶àÊïàÊûú
- ‚úÖ ÁêÜËß£ÊãñÊãΩÂíåÊªëÂä®‰∫§‰∫íÁöÑÂÆûÁé∞
- ‚úÖ ËÉΩÂ§üÂ§ÑÁêÜÂ§çÊùÇÁöÑÁî®Êà∑‰∫§‰∫íÂú∫ÊôØ
- ‚úÖ ÊéåÊè°‰∫§‰∫íÁªÑ‰ª∂ÁöÑÊÄßËÉΩ‰ºòÂåñÊäÄÂ∑ß

## üéØ ‰∏∫‰ªÄ‰πà‰∫§‰∫íÁªÑ‰ª∂Â¶ÇÊ≠§ÈáçË¶ÅÔºü

Âú®ÊàëÂºÄÂèëÁöÑ‰∏Ä‰∏™Èü≥‰πêÂ∫îÁî®‰∏≠ÔºåÁî®Êà∑ÂèçÈ¶àÊúÄÂ§öÁöÑÈóÆÈ¢òÊòØ"Êìç‰Ωú‰∏çÂ§üÊµÅÁïÖ"„ÄÇÂêéÊù•ÊàëÈáçÊñ∞ËÆæËÆ°‰∫Ü‰∫§‰∫í‰ΩìÈ™åÔºåÊ∑ªÂä†‰∫ÜÊâãÂäøÊìç‰Ωú„ÄÅÂä®ÁîªÂèçÈ¶àÂíåÁõ¥ËßÇÁöÑÂØºËà™ÔºåÁî®Êà∑ÁïôÂ≠òÁéáÊèêÂçá‰∫Ü 40%ÔºÅ

Â•ΩÁöÑ‰∫§‰∫íËÆæËÆ°ËÉΩËÆ©Áî®Êà∑Ôºö

- **ÊÑüÂà∞ÊÑâÊÇ¶**ÔºöÊµÅÁïÖÁöÑÂä®ÁîªÂíåÂèçÈ¶à
- **Êìç‰ΩúÁõ¥ËßÇ**ÔºöÁ¨¶ÂêàÁî®Êà∑‰π†ÊÉØÁöÑ‰∫§‰∫íÊñπÂºè
- **ÊèêÈ´òÊïàÁéá**ÔºöÂáèÂ∞ëÊìç‰ΩúÊ≠•È™§ÔºåÊèêÂçá‰ΩøÁî®‰ΩìÈ™å
- **Èôç‰ΩéÂ≠¶‰π†ÊàêÊú¨**ÔºöÁïåÈù¢ÂèãÂ•ΩÔºåÊòì‰∫é‰∏äÊâã

## üöÄ ‰ªéÂü∫Á°ÄÂºÄÂßãÔºöÊâãÂäøËØÜÂà´

### ‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ÊâãÂäøÁªÑ‰ª∂

```dart
// ÁÆÄÂçïÁöÑÁÇπÂáªÊâãÂäø
GestureDetector(
  onTap: () {
    print('ÁÇπÂáª‰∫ÜÔºÅ');
  },
  child: Container(
    width: 100,
    height: 100,
    color: Colors.blue,
    child: Center(
      child: Text(
        'ÁÇπÂáªÊàë',
        style: TextStyle(color: Colors.white),
      ),
    ),
  ),
)
```

### Â∏∏Áî®ÊâãÂäøÁ±ªÂûã

```dart
class GestureExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: () => print('ÂçïÂáª'),
      onDoubleTap: () => print('ÂèåÂáª'),
      onLongPress: () => print('ÈïøÊåâ'),
      onPanUpdate: (details) => print('ÊãñÊãΩ: ${details.delta}'),
      onScaleUpdate: (details) => print('Áº©Êîæ: ${details.scale}'),
      child: Container(
        width: 200,
        height: 200,
        decoration: BoxDecoration(
          color: Colors.orange,
          borderRadius: BorderRadius.circular(20),
        ),
        child: Center(
          child: Text(
            'ËØïËØïÂêÑÁßçÊâãÂäø',
            style: TextStyle(
              color: Colors.white,
              fontSize: 18,
              fontWeight: FontWeight.bold,
            ),
          ),
        ),
      ),
    );
  }
}
```

## üé® ÂÆûÊàòÂ∫îÁî®ÔºöÂàõÂª∫ÂÆûÁî®ÁöÑ‰∫§‰∫íÁªÑ‰ª∂

### 1. Êô∫ËÉΩÊåâÈíÆÁªÑ‰ª∂

```dart
class SmartButton extends StatefulWidget {
  final String text;
  final VoidCallback? onPressed;
  final Color? color;
  final IconData? icon;
  final bool isLoading;
  final Duration animationDuration;

  const SmartButton({
    Key? key,
    required this.text,
    this.onPressed,
    this.color,
    this.icon,
    this.isLoading = false,
    this.animationDuration = const Duration(milliseconds: 200),
  }) : super(key: key);

  @override
  _SmartButtonState createState() => _SmartButtonState();
}

class _SmartButtonState extends State<SmartButton>
    with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _scaleAnimation;
  bool _isPressed = false;

  @override
  void initState() {
    super.initState();
    _animationController = AnimationController(
      duration: widget.animationDuration,
      vsync: this,
    );
    _scaleAnimation = Tween<double>(
      begin: 1.0,
      end: 0.95,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeInOut,
    ));
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }

  void _handleTapDown(TapDownDetails details) {
    if (widget.onPressed != null && !widget.isLoading) {
      setState(() => _isPressed = true);
      _animationController.forward();
    }
  }

  void _handleTapUp(TapUpDetails details) {
    _resetButton();
  }

  void _handleTapCancel() {
    _resetButton();
  }

  void _resetButton() {
    setState(() => _isPressed = false);
    _animationController.reverse();
  }

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTapDown: _handleTapDown,
      onTapUp: _handleTapUp,
      onTapCancel: _handleTapCancel,
      onTap: widget.isLoading ? null : widget.onPressed,
      child: AnimatedBuilder(
        animation: _scaleAnimation,
        builder: (context, child) {
          return Transform.scale(
            scale: _scaleAnimation.value,
            child: Container(
              padding: EdgeInsets.symmetric(horizontal: 24, vertical: 12),
              decoration: BoxDecoration(
                color: widget.isLoading
                    ? Colors.grey[400]
                    : (widget.color ?? Colors.blue),
                borderRadius: BorderRadius.circular(8),
                boxShadow: _isPressed ? [] : [
                  BoxShadow(
                    color: Colors.black.withOpacity(0.2),
                    blurRadius: 4,
                    offset: Offset(0, 2),
                  ),
                ],
              ),
              child: Row(
                mainAxisSize: MainAxisSize.min,
                children: [
                  if (widget.isLoading) ..[
                    SizedBox(
                      width: 16,
                      height: 16,
                      child: CircularProgressIndicator(
                        strokeWidth: 2,
                        valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                      ),
                    ),
                    SizedBox(width: 8),
                  ] else if (widget.icon != null) ..[
                    Icon(
                      widget.icon,
                      color: Colors.white,
                      size: 18,
                    ),
                    SizedBox(width: 8),
                  ],
                  Text(
                    widget.isLoading ? 'Âä†ËΩΩ‰∏≠...' : widget.text,
                    style: TextStyle(
                      color: Colors.white,
                      fontSize: 16,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                ],
              ),
            ),
          );
        },
      ),
    );
  }
}
```

### 2. ÊªëÂä®Âà†Èô§ÁªÑ‰ª∂

```dart
class SwipeToDeleteItem extends StatefulWidget {
  final Widget child;
  final VoidCallback? onDelete;
  final Color deleteColor;
  final IconData deleteIcon;
  final String deleteText;

  const SwipeToDeleteItem({
    Key? key,
    required this.child,
    this.onDelete,
    this.deleteColor = Colors.red,
    this.deleteIcon = Icons.delete,
    this.deleteText = 'Âà†Èô§',
  }) : super(key: key);

  @override
  _SwipeToDeleteItemState createState() => _SwipeToDeleteItemState();
}

class _SwipeToDeleteItemState extends State<SwipeToDeleteItem>
    with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _slideAnimation;
  late Animation<double> _fadeAnimation;

  @override
  void initState() {
    super.initState();
    _animationController = AnimationController(
      duration: Duration(milliseconds: 300),
      vsync: this,
    );
    _slideAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeOut,
    ));
    _fadeAnimation = Tween<double>(
      begin: 1.0,
      end: 0.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }

  void _handleDelete() async {
    await _animationController.forward();
    if (widget.onDelete != null) {
      widget.onDelete!();
    }
  }

  @override
  Widget build(BuildContext context) {
    return AnimatedBuilder(
      animation: _animationController,
      builder: (context, child) {
        return Transform.translate(
          offset: Offset(_slideAnimation.value * MediaQuery.of(context).size.width, 0),
          child: Opacity(
            opacity: _fadeAnimation.value,
            child: Dismissible(
              key: UniqueKey(),
              direction: DismissDirection.endToStart,
              onDismissed: (direction) => _handleDelete(),
              background: Container(
                alignment: Alignment.centerRight,
                padding: EdgeInsets.only(right: 20),
                color: widget.deleteColor,
                child: Column(
                  mainAxisAlignment: MainAxisAlignment.center,
                  children: [
                    Icon(
                      widget.deleteIcon,
                      color: Colors.white,
                      size: 24,
                    ),
                    SizedBox(height: 4),
                    Text(
                      widget.deleteText,
                      style: TextStyle(
                        color: Colors.white,
                        fontSize: 12,
                        fontWeight: FontWeight.bold,
                      ),
                    ),
                  ],
                ),
              ),
              child: widget.child,
            ),
          ),
        );
      },
    );
  }
}
```

### 3. ÈïøÊåâËèúÂçïÁªÑ‰ª∂

````

### 2. ÂèØÊãñÊãΩÂàóË°®ÁªÑ‰ª∂

```dart
class DraggableList extends StatefulWidget {
  final List<String> items;
  final Function(List<String>) onReorder;

  const DraggableList({
    Key? key,
    required this.items,
    required this.onReorder,
  }) : super(key: key);

  @override
  _DraggableListState createState() => _DraggableListState();
}

class _DraggableListState extends State<DraggableList> {
  late List<String> _items;

  @override
  void initState() {
    super.initState();
    _items = List.from(widget.items);
  }

  @override
  Widget build(BuildContext context) {
    return ReorderableListView.builder(
      itemCount: _items.length,
      onReorder: (oldIndex, newIndex) {
        setState(() {
          if (oldIndex < newIndex) {
            newIndex -= 1;
          }
          final item = _items.removeAt(oldIndex);
          _items.insert(newIndex, item);
        });
        widget.onReorder(_items);
      },
      itemBuilder: (context, index) {
        return _buildDraggableItem(_items[index], index);
      },
    );
  }

  Widget _buildDraggableItem(String item, int index) {
    return Card(
      key: ValueKey(item),
      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 4),
      child: ListTile(
        leading: Icon(Icons.drag_handle, color: Colors.grey),
        title: Text(item),
        subtitle: Text('ÊãñÊãΩÈáçÊñ∞ÊéíÂ∫è'),
        trailing: Icon(Icons.arrow_forward_ios, size: 16),
        onTap: () => print('ÁÇπÂáª‰∫Ü: $item'),
      ),
    );
  }
}

// ‰ΩøÁî®Á§∫‰æã
DraggableList(
  items: ['‰ªªÂä°1', '‰ªªÂä°2', '‰ªªÂä°3', '‰ªªÂä°4'],
  onReorder: (newOrder) {
    print('Êñ∞ÁöÑÈ°∫Â∫è: $newOrder');
  },
)
````

### 3. Êô∫ËÉΩÊäΩÂ±âÁªÑ‰ª∂

```dart
class SmartDrawer extends StatelessWidget {
  final String userName;
  final String userEmail;
  final String? userAvatar;
  final List<DrawerItem> menuItems;

  const SmartDrawer({
    Key? key,
    required this.userName,
    required this.userEmail,
    this.userAvatar,
    required this.menuItems,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Drawer(
      child: Column(
        children: [
          _buildHeader(context),
          Expanded(child: _buildMenuItems(context)),
          _buildFooter(context),
        ],
      ),
    );
  }

  Widget _buildHeader(BuildContext context) {
    return Container(
      padding: EdgeInsets.fromLTRB(16, 60, 16, 16),
      decoration: BoxDecoration(
        gradient: LinearGradient(
          colors: [Colors.blue[400]!, Colors.blue[600]!],
          begin: Alignment.topLeft,
          end: Alignment.bottomRight,
        ),
      ),
      child: Row(
        children: [
          CircleAvatar(
            radius: 30,
            backgroundColor: Colors.white,
            backgroundImage: userAvatar != null
                ? NetworkImage(userAvatar!)
                : null,
            child: userAvatar == null
                ? Text(
                    userName.substring(0, 1).toUpperCase(),
                    style: TextStyle(
                      fontSize: 24,
                      fontWeight: FontWeight.bold,
                      color: Colors.blue[600],
                    ),
                  )
                : null,
          ),
          SizedBox(width: 16),
          Expanded(
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  userName,
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 18,
                    fontWeight: FontWeight.bold,
                  ),
                ),
                Text(
                  userEmail,
                  style: TextStyle(
                    color: Colors.white70,
                    fontSize: 14,
                  ),
                ),
              ],
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildMenuItems(BuildContext context) {
    return ListView.builder(
      padding: EdgeInsets.zero,
      itemCount: menuItems.length,
      itemBuilder: (context, index) {
        final item = menuItems[index];
        return ListTile(
          leading: Icon(item.icon, color: item.color),
          title: Text(item.title),
          subtitle: item.subtitle != null ? Text(item.subtitle!) : null,
          trailing: item.badge != null
              ? Container(
                  padding: EdgeInsets.symmetric(horizontal: 8, vertical: 4),
                  decoration: BoxDecoration(
                    color: Colors.red,
                    borderRadius: BorderRadius.circular(12),
                  ),
                  child: Text(
                    item.badge!,
                    style: TextStyle(
                      color: Colors.white,
                      fontSize: 12,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                )
              : null,
          onTap: () {
            Navigator.pop(context);
            item.onTap?.call();
          },
        );
      },
    );
  }

  Widget _buildFooter(BuildContext context) {
    return Container(
      padding: EdgeInsets.all(16),
      child: Row(
        children: [
          Icon(Icons.settings, color: Colors.grey),
          SizedBox(width: 16),
          Text(
            'ËÆæÁΩÆ',
            style: TextStyle(color: Colors.grey),
          ),
          Spacer(),
          Icon(Icons.logout, color: Colors.red),
          SizedBox(width: 16),
          Text(
            'ÈÄÄÂá∫',
            style: TextStyle(color: Colors.red),
          ),
        ],
      ),
    );
  }
}

class DrawerItem {
  final String title;
  final IconData icon;
  final Color color;
  final String? subtitle;
  final String? badge;
  final VoidCallback? onTap;

  DrawerItem({
    required this.title,
    required this.icon,
    this.color = Colors.grey,
    this.subtitle,
    this.badge,
    this.onTap,
  });
}

// ‰ΩøÁî®Á§∫‰æã
SmartDrawer(
  userName: 'Âº†‰∏â',
  userEmail: 'zhangsan@example.com',
  menuItems: [
    DrawerItem(
      title: 'È¶ñÈ°µ',
      icon: Icons.home,
      color: Colors.blue,
      onTap: () => print('È¶ñÈ°µ'),
    ),
    DrawerItem(
      title: 'Ê∂àÊÅØ',
      icon: Icons.message,
      color: Colors.green,
      badge: '3',
      onTap: () => print('Ê∂àÊÅØ'),
    ),
    DrawerItem(
      title: 'ËÆæÁΩÆ',
      icon: Icons.settings,
      color: Colors.orange,
      onTap: () => print('ËÆæÁΩÆ'),
    ),
  ],
)
```

### 4. Êô∫ËÉΩÊ†áÁ≠æÈ°µÁªÑ‰ª∂

```dart
class SmartTabBar extends StatefulWidget {
  final List<TabItem> tabs;
  final Function(int) onTabChanged;

  const SmartTabBar({
    Key? key,
    required this.tabs,
    required this.onTabChanged,
  }) : super(key: key);

  @override
  _SmartTabBarState createState() => _SmartTabBarState();
}

class _SmartTabBarState extends State<SmartTabBar>
    with TickerProviderStateMixin {
  late TabController _tabController;

  @override
  void initState() {
    super.initState();
    _tabController = TabController(
      length: widget.tabs.length,
      vsync: this,
    );
    _tabController.addListener(() {
      widget.onTabChanged(_tabController.index);
    });
  }

  @override
  void dispose() {
    _tabController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Container(
          decoration: BoxDecoration(
            color: Colors.white,
            boxShadow: [
              BoxShadow(
                color: Colors.black.withOpacity(0.1),
                blurRadius: 4,
                offset: Offset(0, 2),
              ),
            ],
          ),
          child: TabBar(
            controller: _tabController,
            indicatorColor: Colors.blue,
            indicatorWeight: 3,
            labelColor: Colors.blue,
            unselectedLabelColor: Colors.grey,
            labelStyle: TextStyle(
              fontSize: 16,
              fontWeight: FontWeight.bold,
            ),
            unselectedLabelStyle: TextStyle(
              fontSize: 16,
              fontWeight: FontWeight.normal,
            ),
            tabs: widget.tabs.map((tab) {
              return Tab(
                icon: tab.icon != null ? Icon(tab.icon) : null,
                text: tab.title,
              );
            }).toList(),
          ),
        ),
        Expanded(
          child: TabBarView(
            controller: _tabController,
            children: widget.tabs.map((tab) {
              return tab.content;
            }).toList(),
          ),
        ),
      ],
    );
  }
}

class TabItem {
  final String title;
  final IconData? icon;
  final Widget content;

  TabItem({
    required this.title,
    this.icon,
    required this.content,
  });
}

// ‰ΩøÁî®Á§∫‰æã
SmartTabBar(
  tabs: [
    TabItem(
      title: 'È¶ñÈ°µ',
      icon: Icons.home,
      content: Center(child: Text('È¶ñÈ°µÂÜÖÂÆπ')),
    ),
    TabItem(
      title: 'ÂèëÁé∞',
      icon: Icons.explore,
      content: Center(child: Text('ÂèëÁé∞ÂÜÖÂÆπ')),
    ),
    TabItem(
      title: 'ÊàëÁöÑ',
      icon: Icons.person,
      content: Center(child: Text('ÊàëÁöÑÂÜÖÂÆπ')),
    ),
  ],
  onTabChanged: (index) {
    print('ÂàáÊç¢Âà∞Ê†áÁ≠æ: $index');
  },
)
```

## üéØ È´òÁ∫ßÂäüËÉΩÔºöËá™ÂÆö‰πâ‰∫§‰∫íÁªÑ‰ª∂

### 1. ÊâãÂäøÂØÜÁ†ÅÁªÑ‰ª∂

```dart
class GesturePassword extends StatefulWidget {
  final Function(List<int>) onPasswordSet;
  final Function(List<int>) onPasswordVerified;

  const GesturePassword({
    Key? key,
    required this.onPasswordSet,
    required this.onPasswordVerified,
  }) : super(key: key);

  @override
  _GesturePasswordState createState() => _GesturePasswordState();
}

class _GesturePasswordState extends State<GesturePassword> {
  List<int> _selectedPoints = [];
  List<int> _password = [];
  bool _isSetting = true;

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Text(
          _isSetting ? 'ËÆæÁΩÆÊâãÂäøÂØÜÁ†Å' : 'È™åËØÅÊâãÂäøÂØÜÁ†Å',
          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
        ),
        SizedBox(height: 20),
        Container(
          width: 300,
          height: 300,
          child: GestureDetector(
            onPanUpdate: _handlePanUpdate,
            onPanEnd: _handlePanEnd,
            child: CustomPaint(
              painter: GesturePasswordPainter(
                selectedPoints: _selectedPoints,
                password: _password,
              ),
              child: _buildPasswordGrid(),
            ),
          ),
        ),
        SizedBox(height: 20),
        if (_isSetting && _password.isNotEmpty)
          ElevatedButton(
            onPressed: () {
              setState(() {
                _isSetting = false;
                _selectedPoints.clear();
              });
            },
            child: Text('Á°ÆËÆ§ÂØÜÁ†Å'),
          ),
      ],
    );
  }

  Widget _buildPasswordGrid() {
    return GridView.builder(
      physics: NeverScrollableScrollPhysics(),
      gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
        crossAxisCount: 3,
        crossAxisSpacing: 20,
        mainAxisSpacing: 20,
      ),
      itemCount: 9,
      itemBuilder: (context, index) {
        final isSelected = _selectedPoints.contains(index);
        return Container(
          decoration: BoxDecoration(
            shape: BoxShape.circle,
            color: isSelected ? Colors.blue : Colors.grey[300],
          ),
          child: Center(
            child: Text(
              '${index + 1}',
              style: TextStyle(
                color: isSelected ? Colors.white : Colors.grey[600],
                fontWeight: FontWeight.bold,
              ),
            ),
          ),
        );
      },
    );
  }

  void _handlePanUpdate(DragUpdateDetails details) {
    // ËÆ°ÁÆóËß¶Êë∏ÁÇπÂØπÂ∫îÁöÑÁΩëÊ†ºÁ¥¢Âºï
    final RenderBox box = context.findRenderObject() as RenderBox;
    final localPosition = box.globalToLocal(details.globalPosition);

    // ÁÆÄÂåñÁöÑ‰ΩçÁΩÆËÆ°ÁÆóÈÄªËæë
    final index = _calculateGridIndex(localPosition);
    if (index != null && !_selectedPoints.contains(index)) {
      setState(() {
        _selectedPoints.add(index);
      });
    }
  }

  void _handlePanEnd(DragEndDetails details) {
    if (_selectedPoints.length >= 4) {
      if (_isSetting) {
        setState(() {
          _password = List.from(_selectedPoints);
          _selectedPoints.clear();
        });
        widget.onPasswordSet(_password);
      } else {
        if (_selectedPoints.length == _password.length &&
            _selectedPoints.every((point) => _password.contains(point))) {
          widget.onPasswordVerified(_selectedPoints);
        } else {
          // ÂØÜÁ†ÅÈîôËØØÔºåÊ∏ÖÁ©∫ÈÄâÊã©
          setState(() {
            _selectedPoints.clear();
          });
        }
      }
    } else {
      setState(() {
        _selectedPoints.clear();
      });
    }
  }

  int? _calculateGridIndex(Offset position) {
    // ÁÆÄÂåñÁöÑÁΩëÊ†ºÁ¥¢ÂºïËÆ°ÁÆó
    final gridSize = 300.0 / 3;
    final row = (position.dy / gridSize).floor();
    final col = (position.dx / gridSize).floor();

    if (row >= 0 && row < 3 && col >= 0 && col < 3) {
      return row * 3 + col;
    }
    return null;
  }
}

class GesturePasswordPainter extends CustomPainter {
  final List<int> selectedPoints;
  final List<int> password;

  GesturePasswordPainter({
    required this.selectedPoints,
    required this.password,
  });

  @override
  void paint(Canvas canvas, Size size) {
    if (selectedPoints.length < 2) return;

    final paint = Paint()
      ..color = Colors.blue
      ..strokeWidth = 3
      ..strokeCap = StrokeCap.round;

    for (int i = 0; i < selectedPoints.length - 1; i++) {
      final start = _getPointPosition(selectedPoints[i], size);
      final end = _getPointPosition(selectedPoints[i + 1], size);
      canvas.drawLine(start, end, paint);
    }
  }

  Offset _getPointPosition(int index, Size size) {
    final gridSize = size.width / 3;
    final row = index ~/ 3;
    final col = index % 3;
    return Offset(
      col * gridSize + gridSize / 2,
      row * gridSize + gridSize / 2,
    );
  }

  @override
  bool shouldRepaint(GesturePasswordPainter oldDelegate) {
    return oldDelegate.selectedPoints != selectedPoints;
  }
}
```

### 2. Êô∫ËÉΩÂºπÁ™óÁªÑ‰ª∂

> üí° **ÊèêÁ§∫**ÔºöËØ¶ÁªÜÁöÑÂØπËØùÊ°ÜÁªÑ‰ª∂ÂÜÖÂÆπËØ∑ÂèÇËÄÉ [other-widgets.md](other-widgets.md) ‰∏≠ÁöÑ Dialog ÂØπËØùÊ°ÜÈÉ®ÂàÜ„ÄÇ

ËøôÈáåÊàë‰ª¨Êèê‰æõ‰∏Ä‰∏™ÁÆÄÂåñÁöÑÊô∫ËÉΩÂØπËØùÊ°ÜÁ§∫‰æãÔºö

```dart
// ÁÆÄÂåñÁöÑÊô∫ËÉΩÂØπËØùÊ°Ü
void showSmartDialog(BuildContext context, {
  required String title,
  required String content,
  required List<Widget> actions,
}) {
  showDialog(
    context: context,
    builder: (context) => AlertDialog(
      title: Text(title),
      content: Text(content),
      actions: actions,
    ),
  );
}

// ‰ΩøÁî®Á§∫‰æã
showSmartDialog(
  context,
  title: 'Á°ÆËÆ§Âà†Èô§',
  content: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™È°πÁõÆÂêóÔºü',
  actions: [
    TextButton(
      onPressed: () => Navigator.pop(context),
      child: Text('ÂèñÊ∂à'),
    ),
    ElevatedButton(
      onPressed: () {
        Navigator.pop(context);
        print('Âà†Èô§Êìç‰Ωú');
      },
      child: Text('Âà†Èô§'),
    ),
  ],
);
```

## üí° ÂÆûÁî®ÊäÄÂ∑ßÂíåÊúÄ‰Ω≥ÂÆûË∑µ

### 1. ÊÄßËÉΩ‰ºòÂåñ

```dart
// ‰ΩøÁî® const ÊûÑÈÄ†ÂáΩÊï∞
class OptimizedInteractiveWidget extends StatelessWidget {
  static const List<String> _defaultItems = ['È°πÁõÆ1', 'È°πÁõÆ2', 'È°πÁõÆ3'];

  const OptimizedInteractiveWidget({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: _defaultItems.length,
      itemBuilder: (context, index) {
        return ListTile(
          title: Text(_defaultItems[index]),
          onTap: () => print('ÁÇπÂáª‰∫Ü: ${_defaultItems[index]}'),
        );
      },
    );
  }
}

// ÈÅøÂÖçÂú® build ÊñπÊ≥ï‰∏≠ÂàõÂª∫ÂõûË∞ÉÂáΩÊï∞
class CallbackOptimizedWidget extends StatelessWidget {
  final VoidCallback onTap;

  const CallbackOptimizedWidget({
    Key? key,
    required this.onTap,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: onTap, // Áõ¥Êé•‰ΩøÁî®‰º†ÂÖ•ÁöÑÂõûË∞É
      child: Container(
        width: 100,
        height: 100,
        color: Colors.blue,
        child: Center(child: Text('ÁÇπÂáª')),
      ),
    );
  }
}
```

### 2. ÈîôËØØÂ§ÑÁêÜ

```dart
class SafeInteractiveWidget extends StatelessWidget {
  final List<String> items;
  final Function(String)? onItemTap;

  const SafeInteractiveWidget({
    Key? key,
    required this.items,
    this.onItemTap,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: items.length,
      itemBuilder: (context, index) {
        try {
          final item = items[index];
          return ListTile(
            title: Text(item),
            onTap: () {
              try {
                onItemTap?.call(item);
              } catch (e) {
                print('Â§ÑÁêÜÁÇπÂáª‰∫ã‰ª∂Êó∂Âá∫Èîô: $e');
                // ÊòæÁ§∫ÈîôËØØÊèêÁ§∫
                ScaffoldMessenger.of(context).showSnackBar(
                  SnackBar(content: Text('Êìç‰ΩúÂ§±Ë¥•ÔºåËØ∑ÈáçËØï')),
                );
              }
            },
          );
        } catch (e) {
          // Êèê‰æõÈôçÁ∫ßÊòæÁ§∫
          return ListTile(
            title: Text('Âä†ËΩΩÂ§±Ë¥•'),
            subtitle: Text('È°πÁõÆ $index'),
            leading: Icon(Icons.error, color: Colors.red),
          );
        }
      },
    );
  }
}
```

### 3. Êó†ÈöúÁ¢çÊîØÊåÅ

```dart
class AccessibleInteractiveWidget extends StatelessWidget {
  final String title;
  final String description;
  final VoidCallback? onTap;

  const AccessibleInteractiveWidget({
    Key? key,
    required this.title,
    required this.description,
    this.onTap,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Semantics(
      label: title,
      hint: description,
      button: true,
      child: GestureDetector(
        onTap: onTap,
        child: Container(
          padding: EdgeInsets.all(16),
          decoration: BoxDecoration(
            color: Colors.blue[100],
            borderRadius: BorderRadius.circular(8),
            border: Border.all(color: Colors.blue),
          ),
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Text(
                title,
                style: TextStyle(
                  fontSize: 16,
                  fontWeight: FontWeight.bold,
                ),
              ),
              SizedBox(height: 4),
              Text(
                description,
                style: TextStyle(
                  fontSize: 14,
                  color: Colors.grey[600],
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
```

```dart
class LongPressMenu extends StatefulWidget {
  final Widget child;
  final List<PopupMenuEntry> menuItems;
  final Function(dynamic)? onSelected;

  const LongPressMenu({
    Key? key,
    required this.child,
    required this.menuItems,
    this.onSelected,
  }) : super(key: key);

  @override
  _LongPressMenuState createState() => _LongPressMenuState();
}

class _LongPressMenuState extends State<LongPressMenu> {
  void _showMenu(BuildContext context, Offset position) async {
    final RenderBox overlay = Overlay.of(context)!.context.findRenderObject() as RenderBox;

    final result = await showMenu(
      context: context,
      position: RelativeRect.fromRect(
        Rect.fromLTWH(position.dx, position.dy, 0, 0),
        Rect.fromLTWH(0, 0, overlay.size.width, overlay.size.height),
      ),
      items: widget.menuItems,
      elevation: 8,
    );

    if (result != null && widget.onSelected != null) {
      widget.onSelected!(result);
    }
  }

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onLongPressStart: (details) {
        _showMenu(context, details.globalPosition);
      },
      child: widget.child,
    );
  }
}

// ‰ΩøÁî®Á§∫‰æã
LongPressMenu(
  menuItems: [
    PopupMenuItem(
      value: 'edit',
      child: Row(
        children: [
          Icon(Icons.edit, size: 18),
          SizedBox(width: 8),
          Text('ÁºñËæë'),
        ],
      ),
    ),
    PopupMenuItem(
      value: 'delete',
      child: Row(
        children: [
          Icon(Icons.delete, size: 18, color: Colors.red),
          SizedBox(width: 8),
          Text('Âà†Èô§', style: TextStyle(color: Colors.red)),
        ],
      ),
    ),
  ],
  onSelected: (value) {
    switch (value) {
      case 'edit':
        // Â§ÑÁêÜÁºñËæëÊìç‰Ωú
        break;
      case 'delete':
        // Â§ÑÁêÜÂà†Èô§Êìç‰Ωú
        break;
    }
  },
  child: ListTile(
    title: Text('ÈïøÊåâÊòæÁ§∫ËèúÂçï'),
    subtitle: Text('ËøôÊòØ‰∏Ä‰∏™Á§∫‰æãÈ°πÁõÆ'),
  ),
)
```

## üîß ‰∫§‰∫íÊÄßËÉΩ‰ºòÂåñ

### Èò≤ÊäñÂä®Â§ÑÁêÜ

```dart
class DebounceButton extends StatefulWidget {
  final String text;
  final VoidCallback? onPressed;
  final Duration debounceDuration;

  const DebounceButton({
    Key? key,
    required this.text,
    this.onPressed,
    this.debounceDuration = const Duration(milliseconds: 500),
  }) : super(key: key);

  @override
  _DebounceButtonState createState() => _DebounceButtonState();
}

class _DebounceButtonState extends State<DebounceButton> {
  Timer? _debounceTimer;
  bool _isProcessing = false;

  void _handlePress() {
    if (_isProcessing) return;

    setState(() => _isProcessing = true);

    _debounceTimer?.cancel();
    _debounceTimer = Timer(widget.debounceDuration, () {
      if (widget.onPressed != null) {
        widget.onPressed!();
      }
      setState(() => _isProcessing = false);
    });
  }

  @override
  void dispose() {
    _debounceTimer?.cancel();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return ElevatedButton(
      onPressed: _isProcessing ? null : _handlePress,
      child: _isProcessing
          ? SizedBox(
              width: 16,
              height: 16,
              child: CircularProgressIndicator(strokeWidth: 2),
            )
          : Text(widget.text),
    );
  }
}
```

## üìö ÊÄªÁªì

‰∫§‰∫íÁªÑ‰ª∂ÊòØ Flutter Â∫îÁî®‰∏≠ÈùûÂ∏∏ÈáçË¶ÅÁöÑÁî®Êà∑‰ΩìÈ™åÂÖÉÁ¥†ÔºåÂ•ΩÁöÑ‰∫§‰∫íËÆæËÆ°ËÉΩËÆ©Â∫îÁî®Êõ¥Âä†ÁîüÂä®ÂíåÊòìÁî®„ÄÇÈÄöËøáÂêàÁêÜ‰ΩøÁî®‰∫§‰∫íÁªÑ‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•Ôºö

1. **ÊèêÂçáÁî®Êà∑‰ΩìÈ™å**ÔºöÊµÅÁïÖÁöÑ‰∫§‰∫íËÆ©Áî®Êà∑ÊÑüÂà∞ËàíÈÄÇ
2. **Â¢ûÂº∫Êìç‰ΩúÂèçÈ¶à**ÔºöÂèäÊó∂ÁöÑÂèçÈ¶àËÆ©Áî®Êà∑Áü•ÈÅìÊìç‰ΩúÁä∂ÊÄÅ
3. **ÂºïÂØºÁî®Êà∑Êìç‰Ωú**ÔºöÁõ¥ËßÇÁöÑ‰∫§‰∫íÂºïÂØºÁî®Êà∑Ê≠£Á°Æ‰ΩøÁî®
4. **ÊèêÂçáÂ∫îÁî®ÂìÅË¥®**ÔºöÁ≤æËá¥ÁöÑ‰∫§‰∫íËÆ©Â∫îÁî®Êõ¥‰∏ì‰∏ö

### ÂÖ≥ÈîÆË¶ÅÁÇπ

- **ÂìçÂ∫îÈÄüÂ∫¶**ÔºöÁ°Æ‰øù‰∫§‰∫íÂìçÂ∫îËøÖÈÄüÔºåÈÅøÂÖçÂç°È°ø
- **ËßÜËßâÂèçÈ¶à**ÔºöÊèê‰æõÊ∏ÖÊô∞ÁöÑËßÜËßâÂèçÈ¶àÔºåËÆ©Áî®Êà∑Áü•ÈÅìÊìç‰ΩúÁªìÊûú
- **‰∏ÄËá¥ÊÄß**Ôºö‰øùÊåÅ‰∫§‰∫íË°å‰∏∫ÁöÑ‰∏ÄËá¥ÊÄßÔºåÈôç‰ΩéÂ≠¶‰π†ÊàêÊú¨
- **ÂÆπÈîôÊÄß**ÔºöÊèê‰æõÊí§ÈîÄÂíåÁ°ÆËÆ§Êú∫Âà∂ÔºåÈÅøÂÖçËØØÊìç‰Ωú
- **Êó†ÈöúÁ¢çÊîØÊåÅ**ÔºöËÄÉËôë‰∏çÂêåÁî®Êà∑Áæ§‰ΩìÁöÑ‰ΩøÁî®ÈúÄÊ±Ç

### ‰∫§‰∫íËÆæËÆ°ÂéüÂàô

1. **ÂèØÂèëÁé∞ÊÄß**ÔºöÁî®Êà∑ËÉΩÂ§üËΩªÊùæÂèëÁé∞ÂèØ‰∫§‰∫íÁöÑÂÖÉÁ¥†
2. **ÂèØÁêÜËß£ÊÄß**Ôºö‰∫§‰∫íË°å‰∏∫Á¨¶ÂêàÁî®Êà∑ÁöÑÂøÉÁêÜÊ®°Âûã
3. **ÂèØÊìç‰ΩúÊÄß**Ôºö‰∫§‰∫íÊìç‰ΩúÁÆÄÂçïÁõ¥ËßÇÔºåÊòì‰∫éÊâßË°å
4. **ÂèçÈ¶àÊÄß**ÔºöÂèäÊó∂Êèê‰æõÊìç‰ΩúÁªìÊûúÁöÑÂèçÈ¶à‰ø°ÊÅØ

### ‰∏ã‰∏ÄÊ≠•Â≠¶‰π†

ÊéåÊè°‰∫Ü‰∫§‰∫íÁªÑ‰ª∂ÁöÑÂü∫Á°ÄÂêéÔºå‰Ω†ÂèØ‰ª•ÁªßÁª≠Â≠¶‰π†Ôºö

- [Âä®ÁîªÁªÑ‰ª∂](animation-widgets.md) - Â≠¶‰π†Âä®ÁîªÊïàÊûúÂ¢ûÂº∫‰∫§‰∫í
- [Ëá™ÂÆö‰πâÁªÑ‰ª∂](custom-widgets.md) - Â≠¶‰π†ÂàõÂª∫‰∏ìÂ±û‰∫§‰∫íÁªÑ‰ª∂
- [ÊâãÂäøËØÜÂà´](gesture-recognition.md) - Â≠¶‰π†È´òÁ∫ßÊâãÂäøÂ§ÑÁêÜ

ËÆ∞‰ΩèÔºåÂ•ΩÁöÑ‰∫§‰∫íËÆæËÆ°‰∏ç‰ªÖ‰ªÖÊòØÂäüËÉΩÂÆûÁé∞ÔºåÊõ¥ÈáçË¶ÅÁöÑÊòØËÆ©Áî®Êà∑ÊÑüÂà∞Ëá™ÁÑ∂ÂíåÊÑâÊÇ¶„ÄÇÂú®ÂÆûË∑µ‰∏≠‰∏çÊñ≠‰ºòÂåñÔºå‰Ω†‰∏ÄÂÆöËÉΩÂàõÂª∫Âá∫Áî®Êà∑ÂñúÁà±ÁöÑ‰∫§‰∫í‰ΩìÈ™åÔºÅ

---

<div align="center">

**üåü Â¶ÇÊûúËøôÁØáÊñáÁ´†ÂØπ‰Ω†ÊúâÂ∏ÆÂä©ÔºåËØ∑Áªô‰∏™ Star ÊîØÊåÅ‰∏Ä‰∏ãÔºÅ üåü**

[![GitHub stars](https://img.shields.io/github/stars/1989allen126/language-tutorial?style=social)](https://github.com/1989allen126/language-tutorial)
[![GitHub forks](https://img.shields.io/github/forks/1989allen126/language-tutorial?style=social)](https://github.com/1989allen126/language-tutorial)

</div>
